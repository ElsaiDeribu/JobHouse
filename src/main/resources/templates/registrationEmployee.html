<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Signup
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="vh-100">

    <div class="row vh-100 align-items-center justify-content-center">
        <div class="col-11 col-sm-10 col-md-6 col-lg-5 col-xl-4 col-xxl-3 text-center">
            <div class="card bg-light shadow-lg p-5">
                    <form method="POST" th:action="@{/register/signup}" th:object="${registrationForm}">
                        <h3 class="mb-5"> Sign up</h3>
                    <div class="form-input my-3"> <i class="fa fa-envelope-open"></i> <input required th:field="*{fullName}" type="text" class="form-control"
                        placeholder="Full Name"> 
                        <p th:if="${#fields.hasErrors('fullName')}" th:errorclass="error" th:errors="*{fullName}" th:field="*{fullName}">
                   </div>
                    <div class="form-input my-3"> <i class="fa fa-user"></i> <input th:field="*{username}" type="text" class="form-control"
                            placeholder="User name" required> 
                            <p th:if="${#fields.hasErrors('username')}" th:errorclass="error" th:errors="*{username}" ></p>
                   
                        </div>
                    <div class="form-input my-3"> <i class="fa fa-envelope"></i> <input th:field="*{email}" type="text" class="form-control"
                            placeholder="Email address" required> 
                            <p th:if="${#fields.hasErrors('email')}" th:errorclass="error" th:errors="*{email}" ></p>
                        </div>
                    
                    <div class="form-input my-3"> <i class="fa fa-lock"></i> <input th:field="*{password}" type="password" class="form-control"
                            placeholder="password" id="password" required > </div>
                            <p th:if="${#fields.hasErrors('password')}" th:errorclass="error" th:errors="*{password}" ></p>
                   
                    <div class="form-input my-3"> <i class="fa fa-lock"></i> <input  type="password" class="form-control"
                                placeholder="Confirm Password" onkeyup="checkPassword()" id="confirm-password" required>
                                <p id="message"></p> 
             
                            <button class="btn btn-primary " id="sbmt" type="submit" value="Sign up">Sign up</button>
                    <div class="text-center mt-4"> <span>Already have an account?</span> <a th:href="@{/login}"
                            class="text-decoration-none">Login</a> </div>
                        </form>
                
            </div>
        
        </div>
    </div>
    <script>
        function checkPassword(){
   
    let password = document.getElementById("password").value
    let cnfrmPassword = document.getElementById("confirm-password").value
    var confirmPassword = document.getElementById("confirm-password")
    var btn = document.getElementById("sbmt")

    let message = document.getElementById("message")

    if (password != 0){
            if(password != cnfrmPassword){
                message.textContent = "password must match confirm password"
                btn.disabled=true

            }
            else{
            message.textContent = ""
            btn.disabled=false
        }
        
       
    }



}
    </script>
</body>

</html>