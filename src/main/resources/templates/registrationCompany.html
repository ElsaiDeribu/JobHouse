<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Signup
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="vh-100">
    <div class="row vh-100 align-items-center justify-content-center">
        <div class="col-11 col-sm-9 col-md-6 col-lg-5 col-xl-4 col-xxl-3 text-center">
                <div class="card p-5 bg-light shadow-lg "> <span class="circle"><i class="fa fa-check"></i></span>
                    <form method="POST" th:action="@{/register/signup}" th:object="${registrationForm}">
                        <h3 class="mb-5"> Sign up</h3>
                    <div class="form-input my-3"> <i class="fa fa-envelope-open"></i> <input th:field="*{fullName}" type="text" class="form-control"
                        placeholder="Company Name" required > 
                        <p th:each="error: ${#fields.errors('fullName')}"  
                        th:text="${error}">Validation error</p></div>
                    <div class="form-input my-3"> <i class="fa fa-user"></i> <input th:field="*{username}" type="text" class="form-control"
                            placeholder="Company Username" required > 
                            <p th:each="error: ${#fields.errors('username')}" 
                            th:text="${error}">Validation error</p>
                        </div>
                    <div class="form-input my-3"> <i class="fa fa-envelope"></i> <input th:field="*{email}" type="text" class="form-control"
                            placeholder="Company Email" required > 
                            <p th:each="error: ${#fields.errors('email')}" 
                            th:text="${error}">Validation error</p>
                        </div>
                    
                    <div class="form-input my-3"> <i class="fa fa-lock"></i> <input th:field="*{password}" type="password" class="form-control"
                            placeholder="password" id="password" required > </div>
                            <p th:each="error: ${#fields.errors('password')}" 
                            th:text="${error}">Validation error</p>
                    <div class="form-input my-3"> <i class="fa fa-lock"></i> <input  type="password" class="form-control"
                                placeholder="Confirm Password" onkeyup="checkPassword()"  id="confirm-password" required >
                                <p id="message"></p>  
                   
                            <button class="btn btn-primary my-3" type="submit " id="sbmt" value="Sign up">Sign up</button>
                    <div class="text-center my-3"> <span>Already have an account?</span> <a th:href="@{/login}"
                            class="text-decoration-none">Login</a> </div>
                        </form>
                </div>
            
        
        </div>
    </div>
    <script>
        function checkPassword(){
  
    let password = document.getElementById("password").value
    let cnfrmPassword = document.getElementById("confirm-password").value
    var confirmPassword = document.getElementById("confirm-password")
    var btn = document.getElementById("sbmt")

    let message = document.getElementById("message")

    if (password != 0){
            if(password != cnfrmPassword){
                message.textContent = "password must match confirm password"
                btn.disabled=true

            }
            else{
            message.textContent = ""
            btn.disabled=false
        }
        
       
    }



}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>